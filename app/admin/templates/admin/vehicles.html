{% extends "admin/base.html" %}
{% block title %}Vehicules - Co-Pilot Admin{% endblock %}

{% block content %}
<h2 class="mb-4">Vehicules</h2>

<!-- Modeles non reconnus -->
<div class="stat-card mb-4">
  <h5 class="mb-3">Modeles les plus demandes mais non reconnus</h5>
  {% if unrecognized_models %}
    <table class="table table-hover mb-0">
      <thead>
        <tr>
          <th>Rang</th>
          <th>Marque</th>
          <th>Modele</th>
          <th>Demandes</th>
        </tr>
      </thead>
      <tbody>
        {% for item in unrecognized_models %}
        <tr>
          <td>{{ loop.index }}</td>
          <td>{{ item.brand }}</td>
          <td>{{ item.model }}</td>
          <td><span class="badge bg-warning text-dark">{{ item.count }}</span></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="text-muted">Aucun modele non reconnu pour le moment.</p>
  {% endif %}
</div>

<!-- Referentiel actuel -->
<div class="stat-card">
  <h5 class="mb-3">Referentiel actuel ({{ known_vehicles|length }} modeles)</h5>
  <table class="table table-sm mb-0">
    <thead>
      <tr>
        <th>Marque</th>
        <th>Modele</th>
        <th>Generation</th>
        <th>Annees</th>
      </tr>
    </thead>
    <tbody>
      {% for v in known_vehicles %}
      <tr>
        <td>{{ v.brand }}</td>
        <td>{{ v.model }}</td>
        <td>{{ v.generation or '-' }}</td>
        <td>{{ v.year_start or '?' }} - {{ v.year_end or 'present' }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
